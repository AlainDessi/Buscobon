function modal(a){return $.cModal(a)}function deleteitem(a){modal({type:"confirm",title:"Confirmation de suppression",text:"voulez vous vraiment supprimer cet Ã©lement ?",callback:function(b){b&&(document.location.href=a)}})}!function(a){a.cModal=function(b){var c,d={type:"default",title:null,text:null,size:"normal",buttons:[{text:"OK",val:!0,onClick:function(a){return!0}}],center:!0,autoclose:!1,callback:null,onShow:null,animate:!0,closeClick:!0,closable:!0,theme:"default",background:null,zIndex:1050,buttonText:{ok:"OK",yes:"Oui",cancel:"Annuler"},template:'<div class="modal-box"><div class="modal-inner"><div class="modal-title"><a class="modal-close-btn"></a></div><div class="modal-text"></div><div class="modal-buttons"></div></div></div>',_classes:{box:".modal-box",boxInner:".modal-inner",title:".modal-title",content:".modal-text",buttons:".modal-buttons",closebtn:".modal-close-btn"}},b=a.extend({},d,b),e=a("<div id='modal-window' />").hide(),f=b._classes.box,g=e.append(b.template),h={init:function(){a("#modal-window").remove(),h._setStyle(),h._modalShow(),h._modalConent(),e.on("click","a.modal-btn",function(b){h._modalBtn(a(this))}).on("click",b._classes.closebtn,function(a){c=!1,h._modalHide()}).click(function(a){b.closeClick&&"modal-window"==a.target.id&&(c=!1,h._modalHide())}),a(window).bind("keyup",h._keyUpF).resize(function(){var a=b.animate;b.animate=!1,h._position(),b.animate=a})},_setStyle:function(){e.css({position:"fixed",width:"100%",height:"100%",top:"0",left:"0","z-index":b.zIndex,overflow:"auto"}),e.find(b._classes.box).css({position:"absolute"})},_keyUpF:function(a){switch(a.keyCode){case 13:if(g.find("input:not(.modal-prompt-input),textarea").is(":focus"))return!1;h._modalBtn(e.find(b._classes.buttons+" a.modal-btn"+("undefined"!=typeof h.btnForEKey&&e.find(b._classes.buttons+" a.modal-btn:eq("+h.btnForEKey+")").size()>0?":eq("+h.btnForEKey+")":":last-child")));break;case 27:h._modalHide()}},_modalShow:function(){a("body").css({overflow:"hidden",width:a("body").innerWidth()}).append(g)},_modalHide:function(d){if(b.closable===!1)return!1;c="undefined"==typeof c?!1:c;var g=function(){if(null!=b.callback&&"function"==typeof b.callback&&0==b.callback(c,e,h.actions)?!1:!0){e.fadeOut(200,function(){a(this).remove(),a("body").css({overflow:"",width:""})});var d=100*parseFloat(a(f).css("top"))/parseFloat(a(f).parent().css("height"));a(f).stop(!0,!0).animate({top:d+(b.animate?3:0)+"%"},"fast")}};d?setTimeout(function(){g()},d):g(),a(window).unbind("keyup",h._keyUpF)},_modalConent:function(){var c=b._classes.title,d=b._classes.content,g=b._classes.buttons,i=b.buttonText,j=["alert","confirm","prompt"],k=["xenon","atlant","reseted"];if(-1==a.inArray(b.type,j)&&"default"!=b.type&&a(f).addClass("modal-type-"+b.type),b.size&&null!=b.size?a(f).addClass("modal-size-"+b.size):a(f).addClass("modal-size-normal"),b.theme&&null!=b.theme&&"default"!=b.theme&&a(f).addClass((-1==a.inArray(b.theme,k)?"":"modal-theme-")+b.theme),b.background&&null!=b.background&&e.css("background-color",b.background),b.title||null!=b.title?a(c).prepend("<h3>"+b.title+"</h3>"):a(c).remove(),"prompt"==b.type?b.text=(null!=b.text?b.text:"")+'<input type="text" name="modal-prompt-input" class="modal-prompt-input" autocomplete="off" autofocus="on" />':"",a(d).html(b.text),b.buttons||null!=b.buttons){var l="";switch(b.type){case"alert":l='<a class="modal-btn btn btn-primary'+(b.buttons[0].addClass?" "+b.buttons[0].addClass:"")+'">'+i.ok+"</a>";break;case"confirm":l='<a class="modal-btn btn btn-warning'+(b.buttons[0].addClass?" "+b.buttons[0].addClass:"")+'">'+i.cancel+'</a><a class="modal-btn btn btn-primary '+(b.buttons[1]&&b.buttons[1].addClass?" "+b.buttons[1].addClass:"btn-light-blue")+'">'+i.yes+"</a>";break;case"prompt":l='<a class="modal-btn btn btn-warning'+(b.buttons[0].addClass?" "+b.buttons[0].addClass:"")+'">'+i.cancel+'</a><a class="modal-btn '+(b.buttons[1]&&b.buttons[1].addClass?" "+b.buttons[1].addClass:"btn-light-blue")+'">'+i.ok+"</a>";break;default:b.buttons.length>0&&a.isArray(b.buttons)?a.each(b.buttons,function(a,b){var c=b.addClass&&"undefined"!=typeof b.addClass?" "+b.addClass:"";l+='<a class="modal-btn'+c+'">'+b.text+"</a>",b.eKey&&(h.btnForEKey=a)}):l+='<a class="modal-btn">'+i.ok+"</a>"}a(g).html(l)}else a(g).remove();if("prompt"==b.type&&$(".modal-prompt-input").focus(),b.autoclose){var m=b.buttons||null!=b.buttons?32*a(d).text().length:900;h._modalHide(900>m?900:m)}e.fadeIn(200,function(){null!=b.onShow?b.onShow(h.actions):null}),h._position()},_position:function(){var c,d,e;b.center?(c={top:a(window).height()<a(f).outerHeight()?1:50,left:50,marginTop:a(window).height()<a(f).outerHeight()?0:-a(f).outerHeight()/2,marginLeft:-a(f).outerWidth()/2},d={top:c.top-(b.animate?3:0)+"%",left:c.left+"%","margin-top":c.marginTop,"margin-left":c.marginLeft},e={top:c.top+"%"}):(c={top:a(window).height()<a(f).outerHeight()?1:10,left:50,marginTop:0,marginLeft:-a(f).outerWidth()/2},d={top:c.top-(b.animate?3:0)+"%",left:c.left+"%","margin-top":c.marginTop,"margin-left":c.marginLeft},e={top:c.top+"%"}),a(f).css(d).stop(!0,!0).animate(e,"fast")},_modalBtn:function(d){var f=!1,g=b.type,i=d.index(),j=b.buttons[i];if(a.inArray(g,["alert","confirm","prompt"])>-1)c=f=1==i?!0:!1,"prompt"==g&&(c=f=f&&e.find("input.modal-prompt-input").size()>0!=0?e.find("input.modal-prompt-input").val():!1),h._modalHide();else{if(d.hasClass("btn-disabled"))return!1;c=f=j&&j.val?j.val:!0,(!j.onClick||j.onClick(a.extend({val:f,bObj:d,bOpts:j},h.actions)))&&h._modalHide()}c=f},actions:{html:e,close:function(){h._modalHide()},getModal:function(){return e},getBox:function(){return e.find(b._classes.box)},getInner:function(){return e.find(b._classes.boxInner)},getTitle:function(){return e.find(b._classes.title)},getContet:function(){return e.find(b._classes.content)},getButtons:function(){return e.find(b._classes.buttons).find("a")},setTitle:function(a){return e.find(b._classes.title+" h3").html(a),e.find(b._classes.title+" h3").size()>0},setContent:function(a){return e.find(b._classes.content).html(a),e.find(b._classes.content).size()>0}}};return h.init(),h.actions}}(jQuery);